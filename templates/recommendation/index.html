{% extends 'base.html' %}

{% block title %}首页 - 智能升学择校辅助系统{% endblock %}

{% block extra_css %}
<style>
    .countdown-box {
        background: linear-gradient(135deg, #3a8bfe, #1357dd);
        color: white;
        border-radius: 8px;
        padding: 15px;
    }
    .countdown-number {
        font-size: 28px;
        font-weight: bold;
        margin-right: 5px;
    }
    .feature-card {
        transition: all 0.3s;
    }
    .feature-card:hover {
        transform: translateY(-5px);
    }
    .news-list li {
        border-bottom: 1px dashed #eee;
        padding: 8px 0;
    }
    .home-banner {
        background: linear-gradient(135deg, #4b6cb7, #182848);
        padding: 40px 0;
        margin-bottom: 30px;
        border-radius: 10px;
    }
</style>
{% endblock %}

{% block content %}
<!-- 顶部横幅 -->
<div class="home-banner text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-7">
                <h1 class="display-5 fw-bold mb-3">考研择校智能推荐系统</h1>
                <p class="lead mb-4">基于大数据和AI算法，为您精准匹配理想院校和专业，提供个性化备考方案</p>
                <div class="d-flex gap-3">
                    <a href="{% url 'ai_recommendation_form' %}" class="btn btn-light btn-lg">
                        <i class="bi bi-magic"></i> 立即体验AI择校
                    </a>
                    <a href="#features" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-info-circle"></i> 了解更多
                    </a>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="countdown-box text-center shadow">
                    <h5 class="mb-3">2025考研倒计时</h5>
<div class="row">
    <div class="col-md-6 mb-4">
        <div class="card">
            <img src="/static/images/schools/cqtbi/banner.jpg" class="card-img-top" alt="重庆工商大学">
            <div class="card-body">
                <h5 class="card-title">重庆工商大学</h5>
                <p class="card-text">重点推荐院校</p>
                <a href="#" class="btn btn-primary">查看详情</a>
            </div>
        </div>
    </div>
</div>
                    <div class="d-flex justify-content-center">
                        <div class="text-center mx-2">
                            <span class="countdown-number" id="days">120</span>
                            <span class="d-block small">天</span>
                        </div>
                        <div class="text-center mx-2">
                            <span class="countdown-number" id="hours">23</span>
                            <span class="d-block small">时</span>
                        </div>
                        <div class="text-center mx-2">
                            <span class="countdown-number" id="minutes">59</span>
                            <span class="d-block small">分</span>
                        </div>
                        <div class="text-center mx-2">
                            <span class="countdown-number" id="seconds">59</span>
                            <span class="d-block small">秒</span>
                        </div>
                    </div>
                    <p class="mt-2 mb-0 small">2025年全国硕士研究生招生考试初试时间：12月23-24日</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- 数据统计 -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <i class="bi bi-people-fill text-primary" style="font-size: 2.5rem;"></i>
                <h3 class="mt-3">{{ students_count }}</h3>
                <p class="text-muted">考生用户</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <i class="bi bi-building text-success" style="font-size: 2.5rem;"></i>
                <h3 class="mt-3">{{ schools_count }}</h3>
                <p class="text-muted">覆盖院校</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <i class="bi bi-book text-danger" style="font-size: 2.5rem;"></i>
                <h3 class="mt-3">1000+</h3>
                <p class="text-muted">热门专业</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card h-100 border-0 shadow-sm">
            <div class="card-body text-center">
                <i class="bi bi-graph-up text-warning" style="font-size: 2.5rem;"></i>
                <h3 class="mt-3">{{ recommendations_count }}</h3>
                <p class="text-muted">成功推荐</p>
            </div>
        </div>
    </div>
</div>

<!-- 核心功能 -->
<div class="row mb-4" id="features">
    <div class="col-md-12">
        <h3 class="text-center mb-4">核心功能</h3>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card feature-card border-0 shadow-sm h-100">
            <div class="card-body text-center p-4">
                <i class="bi bi-magic text-primary mb-3" style="font-size: 2.5rem;"></i>
                <h4>AI大数据择校</h4>
                <p class="text-muted">基于您的学业背景、专业排名、目标意向，智能匹配适合的院校和专业</p>
                <a href="{% url 'ai_recommendation_form' %}" class="btn btn-sm btn-outline-primary">立即体验</a>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card feature-card border-0 shadow-sm h-100">
            <div class="card-body text-center p-4">
                <i class="bi bi-mortarboard text-success mb-3" style="font-size: 2.5rem;"></i>
                <h4>院校库</h4>
                <p class="text-muted">涵盖全国各高校的招生政策、历年分数线、专业设置等详细信息</p>
                <a href="{% url 'school_list' %}" class="btn btn-sm btn-outline-primary">查看院校</a>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-4">
        <div class="card feature-card border-0 shadow-sm h-100">
            <div class="card-body text-center p-4">
                <i class="bi bi-journal-text text-danger mb-3" style="font-size: 2.5rem;"></i>
                <h4>备考规划</h4>
                <p class="text-muted">根据目标院校和专业需求，提供个性化的复习计划和资源推荐</p>
                <a href="{% url 'student_new' %}" class="btn btn-sm btn-outline-primary">开始规划</a>
            </div>
        </div>
    </div>
</div>

<div class="row mb-4">
    <div class="col-md-8">
        <!-- 考研资讯 -->
        <div class="card border-0 shadow-sm mb-4">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0"><i class="bi bi-newspaper me-2"></i>考研最新资讯</h5>
            </div>
            <div class="card-body">
                <ul class="list-unstyled news-list">
                    <li class="d-flex justify-content-between align-items-center py-2">
                        <a href="#" class="text-decoration-none">2024年全国研究生招生考试初试时间确定为12月23日至24日</a>
                        <span class="badge bg-danger">最新</span>
                    </li>
                    <li class="d-flex justify-content-between align-items-center py-2">
                        <a href="#" class="text-decoration-none">教育部发布2024年全国研究生招生计划和政策调整通知</a>
                        <span class="badge bg-secondary">政策</span>
                    </li>
                    <li class="d-flex justify-content-between align-items-center py-2">
                        <a href="#" class="text-decoration-none">34所自主划线院校2024年考研复试分数线预测分析</a>
                        <span class="badge bg-primary">分数线</span>
                    </li>
                    <li class="d-flex justify-content-between align-items-center py-2">
                        <a href="#" class="text-decoration-none">2024考研政治大纲公布，这些变化需要特别注意</a>
                        <span class="badge bg-info text-dark">大纲</span>
                    </li>
                    <li class="d-flex justify-content-between align-items-center py-2">
                        <a href="#" class="text-decoration-none">研究生扩招计划：这些专业和高校将增加招生名额</a>
                        <span class="badge bg-success">招生计划</span>
                    </li>
                </ul>
            </div>
            <div class="card-footer bg-transparent text-center">
                <a href="#" class="btn btn-sm btn-outline-primary">查看更多资讯</a>
            </div>
        </div>

        <!-- 热门专业 -->
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-success text-white">
                <h5 class="mb-0"><i class="bi bi-award me-2"></i>热门考研专业</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card mb-2">
                            <div class="card-body text-center py-3">
                                <h6 class="card-title mb-1">计算机科学与技术</h6>
                                <span class="badge bg-danger">热度 98%</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-2">
                            <div class="card-body text-center py-3">
                                <h6 class="card-title mb-1">金融学</h6>
                                <span class="badge bg-danger">热度 95%</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-2">
                            <div class="card-body text-center py-3">
                                <h6 class="card-title mb-1">人工智能</h6>
                                <span class="badge bg-danger">热度 94%</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-2">
                            <div class="card-body text-center py-3">
                                <h6 class="card-title mb-1">会计学</h6>
                                <span class="badge bg-primary">热度 92%</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-2">
                            <div class="card-body text-center py-3">
                                <h6 class="card-title mb-1">临床医学</h6>
                                <span class="badge bg-primary">热度 91%</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card mb-2">
                            <div class="card-body text-center py-3">
                                <h6 class="card-title mb-1">法学</h6>
                                <span class="badge bg-primary">热度 90%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-footer bg-transparent text-center">
                <a href="#" class="btn btn-sm btn-outline-success">查看全部专业</a>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <!-- 考研日历 -->
        <div class="card border-0 shadow-sm mb-4">
            <div class="card-header bg-danger text-white">
                <h5 class="mb-0"><i class="bi bi-calendar-event me-2"></i>考研日程</h5>
            </div>
            <div class="card-body px-3">
                <div class="d-flex border-start border-danger border-3 ps-3 py-2 mb-3">
                    <div class="text-center me-3">
                        <h5 class="mb-0">10月</h5>
                        <span class="small">2025</span>
                    </div>
                    <div>
                        <h6 class="mb-1">网上报名</h6>
                        <p class="text-muted mb-0 small">10月10日-31日 全国硕士研究生招生考试网上报名</p>
                    </div>
                </div>
                <div class="d-flex border-start border-primary border-3 ps-3 py-2 mb-3">
                    <div class="text-center me-3">
                        <h5 class="mb-0">11月</h5>
                        <span class="small">2025</span>
                    </div>
                    <div>
                        <h6 class="mb-1">现场确认</h6>
                        <p class="text-muted mb-0 small">11月5日-15日 考生到报考点指定地点现场核验并确认报名信息</p>
                    </div>
                </div>
                <div class="d-flex border-start border-success border-3 ps-3 py-2 mb-3">
                    <div class="text-center me-3">
                        <h5 class="mb-0">12月</h5>
                        <span class="small">2025</span>
                    </div>
                    <div>
                        <h6 class="mb-1">打印准考证</h6>
                        <p class="text-muted mb-0 small">12月14日-25日 考生登录研招网下载并打印准考证</p>
                    </div>
                </div>
                <div class="d-flex border-start border-warning border-3 ps-3 py-2">
                    <div class="text-center me-3">
                        <h5 class="mb-0">12月</h5>
                        <span class="small">2025</span>
                    </div>
                    <div>
                        <h6 class="mb-1">初试</h6>
                        <p class="text-muted mb-0 small">12月23日-24日 全国硕士研究生招生考试初试</p>
                    </div>
                </div>
            </div>
            <div class="card-footer bg-transparent text-center">
                <a href="#" class="btn btn-sm btn-outline-danger">查看完整日程</a>
            </div>
        </div>

        <!-- 热门院校 -->
        <div class="card border-0 shadow-sm">
            <div class="card-header bg-info text-white">
                <h5 class="mb-0"><i class="bi bi-link me-2"></i>热门院校官网</h5>
            </div>
            <div class="card-body">
                <div class="list-group list-group-flush">
                    <a href="https://www.tsinghua.edu.cn/" target="_blank" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        清华大学
                        <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                    <a href="https://www.pku.edu.cn/" target="_blank" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        北京大学
                        <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                    <a href="https://www.fudan.edu.cn/" target="_blank" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        复旦大学
                        <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                    <a href="https://www.scu.edu.cn/" target="_blank" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        四川大学
                        <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                    <a href="https://www.cqu.edu.cn/" target="_blank" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        重庆大学
                        <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                    <a href="https://www.uestc.edu.cn/" target="_blank" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                        电子科技大学
                        <i class="bi bi-box-arrow-up-right"></i>
                    </a>
                </div>
            </div>
            <div class="card-footer bg-transparent text-center">
                <a href="{% url 'school_list' %}" class="btn btn-sm btn-outline-info">查看全部院校</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // 考研倒计时
    function updateCountdown() {
        const examDate = new Date('December 23, 2025 00:00:00').getTime();
        const now = new Date().getTime();
        const distance = examDate - now;
        
        // 计算天、小时、分钟和秒数
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
        
        // 更新显示
        document.getElementById('days').textContent = days;
        document.getElementById('hours').textContent = hours;
        document.getElementById('minutes').textContent = minutes;
        document.getElementById('seconds').textContent = seconds;
    }
    
    // 初始更新并设置每秒更新
    updateCountdown();
    setInterval(updateCountdown, 1000);
</script>
{% endblock %}